# 09_m2m

### 1. 목표

- 데이터베이스 모델링
- 알고리즘을 적용한 웹 프로젝트



### 2. 준비 사항

- Django
- Python



### 3. 요구 사항

#### `accounts` App

- 유저 목록 
  - URL  :  `accounts/`
  - 사용자의 목록이 나타나며, 사용자의 username을 클릭하면 유저 상세페이지로 넘어감
- 유저 상세보기
  - URL : `accounts/{user_pk}/`
  - 로그인한 사람만이 사용자의 상세 내용 페이지에서 해당 유저를 follow하거나 unfollow를 할 수 있음
  - 해당 유저가 작성한 평점 정보가 모두 출력
  - 해당 유저를 팔로우한 사람의 수, 팔로잉 한 사람의 수 출력
  - 팔로우, 팔로잉 사람 수를 클릭하면 그 사람들의 목록 출력 (URL : `accounts/{user_pk}/followers/` , `accounts/{user_pk}/followings/`)



#### `movies` App

- 영화 목록
  - URL : `movies/`
  - 영화의 이미지를 클릭하면 영화 상세보기 페이지로 넘어감
- 영화 상세보기
  - URL : `movies/{movie_pk}/`
  - 영화 관련 정보 모두 나열
  - 로그인 한 사람만 영화 평점 남길 수 있음
  - 모든 사람은 평점 목록을 볼 수 있음
  - 영화 기본 추천
    - 내가 팔로우 한 사람이 작성한 평점 중 값이 가장 높은 영화를 각각 하나씩 추천
    - 해당 목록은 로그인한 유저의 본인 유저 상세보기 페이지에서 본인에게만 지원
- 평점 생성
  - URL : `POST/movies/1/scores/new/`
  - 영화 평점은 로그인한 사람만 남길 수 있음
  - 검증을 통해 유효한 경우 데이터베이스에 저장하며, 아닌 경오 영화 정보 조회 페이지로 redirect
  - 데이터베이스에 저장되면, 해당 영화의 상세 페이지로 redirect
- 평점 삭제
  - URL : `POST/movies/1/scores/1/delete`
  - 영화 평점 삭제는 본인만 가능
  - 데이터베이스에서 삭제되면, 해당 영화의 상세 페이지로 redirect